@model MVC.Models.StatisticsViewModel

@{
    ViewData["Title"] = "Estatísticas";
}

<h1>Estatísticas</h1>

<div class="stats-page container-fluid">

    <div class="row stats-equal">
    <div class="col-md-6">
        <div class="stats-card">
            <h4>Top livros mais clicados</h4>
            <table class="table table-striped">
                <thead><tr><th>Posição</th><th>Título</th><th>Autor</th><th>Cliques</th></tr></thead>
                <tbody>
                    @for (int i = 0; i < Model.TopClicked.Count; i++)
                    {
                        <tr>
                            <td>@(i + 1)</td>
                            <td>@Model.TopClicked[i].Titulo</td>
                            <td>@Model.TopClicked[i].Autor</td>
                            <td>@Model.TopClicked[i].Value</td>
                        </tr>
                    }
                </tbody>
            </table>
            <!-- acessos apresentados em tabela -->
            <div class="mt-3">
                <h4>Acessos por período do dia</h4>
                <table class="table table-sm table-striped">
                    <thead><tr><th>Período</th><th>Contagem</th></tr></thead>
                    <tbody>
                        <tr><td>Manhã</td><td>@(Model.TimeOfDayCounts.ContainsKey("Manhã") ? Model.TimeOfDayCounts["Manhã"] : 0)</td></tr>
                        <tr><td>Tarde</td><td>@(Model.TimeOfDayCounts.ContainsKey("Tarde") ? Model.TimeOfDayCounts["Tarde"] : 0)</td></tr>
                        <tr><td>Noite</td><td>@(Model.TimeOfDayCounts.ContainsKey("Noite") ? Model.TimeOfDayCounts["Noite"] : 0)</td></tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <div class="col-md-6">
        <div class="stats-card">
            <h4>Top livros mais requisitados</h4>
            <table class="table table-striped">
                <thead><tr><th>Posição</th><th>Título</th><th>Autor</th><th>Requisições</th></tr></thead>
                <tbody>
                    @for (int i = 0; i < Model.TopRequested.Count; i++)
                    {
                        <tr>
                            <td>@(i + 1)</td>
                            <td>@Model.TopRequested[i].Titulo</td>
                            <td>@Model.TopRequested[i].Autor</td>
                            <td>@Model.TopRequested[i].Value</td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
    <div class="mt-3">
        <h4>Tempo por utilizador</h4>
        <table class="table table-sm table-striped">
            <thead><tr><th>Posição</th><th>Utilizador</th><th>Tempo</th></tr></thead>
            <tbody>
                @for (int i = 0; i < Model.UserTimes.Count; i++)
                {
                    <tr>
                        <td>@(i + 1)</td>
                        <td>@Model.UserTimes[i].UserName</td>
                        <td>@Model.UserTimes[i].Time</td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
    </div>
</div>
